# Rules.mak for NullLogic Groupware executables (Linux 2.2, 2.4, +)
# This ruleset *cough* optimises the bins for debugging with valgrind.
CC            = gcc
MAKE          = make

BIN_CFLAGS    = -Wall -O -g -DLINUX -DSIGCONTEXT -DVALGRIND -I../include
BIN_LDFLAGS   = -ldl
BIN_LDFLAGS_T = -ldl -lpthread
BIN_TARGETDIR = ../distrib/bin

MOD_CFLAGS    = -Wall -O -g -fPIC -DLINUX -I../../include
MOD_LDFLAGS   = -shared
MOD_TARGETDIR = ../../distrib/lib

.c.o:
	$(CC) $(CFLAGS) -c $< -o $@
