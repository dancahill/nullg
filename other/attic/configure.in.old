#                                               -*- Autoconf -*-
# Process this file with autoconf to produce a configure script.

AC_PREREQ(2.57)
AC_INIT([NullLogic Groupware],[1.2.4-rc2],[bugs@nulllogic.com])
AM_INIT_AUTOMAKE
AC_CONFIG_SRCDIR([httpd/main.c])
AC_CONFIG_HEADER([include/config.h])

# Checks for programs.
AC_PROG_CC
AC_PROG_MAKE_SET

# Checks for libraries.
AC_CHECK_LIB(dl, dlopen)
AC_CHECK_LIB(pthread, pthread_create)
AC_CHECK_LIB(pthread, pthread_attr_setstacksize)

# Checks for header files.
AC_HEADER_DIRENT
AC_HEADER_STDC
AC_HEADER_SYS_WAIT
AC_CHECK_HEADERS([arpa/inet.h fcntl.h netdb.h netinet/in.h paths.h stdlib.h string.h sys/file.h sys/socket.h sys/time.h sys/timeb.h unistd.h])

# Checks for typedefs, structures, and compiler characteristics.
AC_C_CONST
AC_TYPE_SIZE_T
AC_HEADER_TIME
AC_STRUCT_TM

# Checks for library functions.
AC_FUNC_CLOSEDIR_VOID
AC_FUNC_ERROR_AT_LINE
AC_FUNC_FORK
AC_FUNC_MALLOC
AC_FUNC_REALLOC
AC_FUNC_SETVBUF_REVERSED
AC_TYPE_SIGNAL
AC_FUNC_STAT
AC_FUNC_STRFTIME
AC_CHECK_FUNCS([dup2 endpwent ftime getcwd gethostbyname gettimeofday inet_ntoa memmove memset mkdir rmdir socket strcasecmp strchr strncasecmp strrchr strstr strcasestr])

AC_CONFIG_FILES([Makefile
                 dbutil/Makefile
                 httpd/Makefile
                 modules/Makefile
                 modules/mod_admin/Makefile
                 modules/mod_bookmarks/Makefile
                 modules/mod_calendar/Makefile
                 modules/mod_calls/Makefile
                 modules/mod_cgi/Makefile
                 modules/mod_contacts/Makefile
                 modules/mod_files/Makefile
                 modules/mod_forums/Makefile
                 modules/mod_html/Makefile
                 modules/mod_mail/Makefile
                 modules/mod_messages/Makefile
                 modules/mod_notes/Makefile
                 modules/mod_orders/Makefile
                 modules/mod_profile/Makefile
                 modules/mod_searches/Makefile
                 modules/mod_tasks/Makefile
                 modules/mod_xmlrpc/Makefile
                 pop3d/Makefile
                 smtpd/Makefile])
AC_OUTPUT
