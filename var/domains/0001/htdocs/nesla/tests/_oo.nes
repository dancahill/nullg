#!/usr/bin/nesla
if (typeof(expect)!='function') include("_expect.nes");
function testoo() {
	function new_str(val) {
		this = {
			size  = function () { return sizeof(this.value); };
			lower = function () { return string.tolower(this.value); };
			upper = function () { return string.toupper(this.value); };
			value = val;
		};
		return this;
	}
	x=new_str("AbC");
	expect("x.size()",  3,        x.size());
	x.value="aBcDeF";
	expect("x.size()",  6,        x.size());
	expect("x.lower()", "abcdef", x.lower());
	expect("x.upper()", "ABCDEF", x.upper());
	return;
}
testoo();
global testoo=null;
