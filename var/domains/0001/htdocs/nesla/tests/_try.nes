#!/usr/bin/nesla
if (typeof(expect)!='function') include("_expect.nes");
function testtry() {
	print("\ttesting try{} blocks\n");
	print("\tThis block _will_ cause errors - That's the point.\n\n");
	io.flush();
	try {
		x=string.split();
		print("\t[",x,"]\n");
	}
	if (_exception!=null) {
		print("\t[",_exception.errno,"][",_exception.errtext,"]\n");
		_exception=null;
	}
	try {
		x=void();
		print("\t[",x,"]\n");
	}
	if (_exception!=null) {
		print("\t[",_exception.errno,"][",_exception.errtext,"]\n");
		_exception=null;
	}
	try {
//		x=regex.replace("\\((.*), (.*)\\)", "(\\2, \\1)", "(a, b)");
		x=regex.replace("\\((*), (*)\\)", "(\\2, \\1)", "(a, b)");
		print("\t[",x,"]\n");
	}
	if (_exception!=null) {
		print("\t[",_exception.errno,"][",_exception.errtext,"]\n");
		_exception=null;
	}
	try {
		x=a[b][c];
		print("\t[",x,"]\n");
	}
	if (_exception!=null) {
		print("\t[",_exception.errno,"][",_exception.errtext,"]\n");
		_exception=null;
	}
	io.flush();
	return;
}
testtry();
